{
    "type": "Ext.form.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "bodyPadding": 10,
        "container|align": "stretch",
        "designer|userAlias": "syncform",
        "designer|userClassName": "SyncForm",
        "height": null,
        "itemId": "sincronizar",
        "layout": "vbox",
        "scrollable": true,
        "title": "Sincronizacion",
        "width": null
    },
    "name": "LoginForm1",
    "designerId": "d5faffa4-b549-4026-9ced-bd7f03ec0f93",
    "viewControllerInstanceId": "83c22bcc-fdbc-4577-ad2e-6d20863ad048",
    "viewModelInstanceId": "bc7a2a82-68df-4d0c-9251-15ecac25754d",
    "cn": [
        {
            "type": "Ext.container.Container",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "container|pack": "center",
                "dock": "bottom",
                "layout": "hbox",
                "layout|flex": null
            },
            "name": "MyContainer1",
            "designerId": "35c914b9-8f13-49c3-b509-2cf99cced1b9",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-check",
                        "itemId": "iniciar",
                        "layout|flex": null,
                        "layout|margins": "",
                        "margin": 10,
                        "text": "Aceptar"
                    },
                    "name": "MyButton6",
                    "designerId": "c899888d-b3c7-4d54-9ccc-af48aee6ec3e",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "button",
                                    "e"
                                ],
                                "fn": "handler",
                                "implHandler": [
                                    "var panel = this.up('#sincronizar');",
                                    "",
                                    "if (button.getText() === 'Cerrar') {",
                                    "    MyApp.screen_count-- ;",
                                    "    MyApp.main.setActiveItem( MyApp.screen_name[MyApp.screen_count] );",
                                    "    return;",
                                    "}",
                                    "button.setText('Cerrar');",
                                    "panel.down('#tabla').setValue('Descargando...');",
                                    "",
                                    "panel.f_sincronizar();",
                                    "panel.down('#iniciar').setDisabled(true);",
                                    "panel.down('#cancelar').setDisabled(true);"
                                ]
                            },
                            "name": "handler",
                            "designerId": "0a052484-293e-4377-8514-034aebc25705"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-remove",
                        "itemId": "cancelar",
                        "layout|flex": null,
                        "margin": 10,
                        "text": "Cancelar"
                    },
                    "name": "MyButton7",
                    "designerId": "a99f80ab-e29c-4c07-8d53-a0b8bffa7e8c",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "button",
                                    "e"
                                ],
                                "fn": "handler",
                                "implHandler": [
                                    "f_crud.close_form(this.up(\"#form\"));"
                                ]
                            },
                            "name": "handler",
                            "designerId": "b88cfec6-d6f1-49b6-b124-51fe466f24aa"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onFormActivate",
                "implHandler": [
                    "var item = component.header.title.text;",
                    "if(component.action === 'ADD') {",
                    "  component.setTitle('Nuevo ' + item);",
                    "}",
                    "else if(component.action === 'EDIT') {",
                    "  component.setTitle('Editar ' + item);",
                    "}",
                    "else {",
                    "  component.setTitle(item);",
                    "}"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onFormActivate",
            "designerId": "f24dcd03-fc1c-4542-bb1f-bf6255f05e17"
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "layout|flex": 1,
                "title": "Sincronizando tablas"
            },
            "name": "MyFieldSet",
            "designerId": "7bcbfa73-9c44-4eb1-935d-8d76842d7518",
            "cn": [
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": "Este campo es obligatorio",
                        "fieldLabel": "Tabla",
                        "itemId": "tabla",
                        "name": null,
                        "width": "100%"
                    },
                    "name": "MyTextField11",
                    "designerId": "a1063d8a-32a1-4041-92de-57830b178a70"
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onFormRender",
                "implHandler": [
                    "var panel = this;",
                    "var button = this.down('#iniciar');",
                    "if (MyApp.sinc_type === 'SILENT') {",
                    "",
                    "  if (button.getText() === 'Cerrar') {",
                    "    MyApp.screen_count-- ;",
                    "    MyApp.main.setActiveItem( MyApp.screen_name[MyApp.screen_count] );",
                    "    return;",
                    "  }",
                    "  button.setText('Cerrar');",
                    "  panel.down('#tabla').setValue('Descargando...');",
                    "",
                    "  panel.f_sincronizar();",
                    "",
                    "}"
                ],
                "name": "render",
                "scope": "me"
            },
            "name": "onFormRender",
            "designerId": "5d8f15ef-f8af-4550-a9d9-6072542e670a"
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onFormHide",
                "implHandler": [
                    "/*",
                    "// below code should refresh the panel-grid",
                    "var panel = MyApp.main.getActiveItem();",
                    "var grid = panel.down('#grid');",
                    "if (grid){ grid.refresh(); }*/"
                ],
                "name": "hide",
                "scope": "me"
            },
            "name": "onFormHide",
            "designerId": "76236bf6-21cd-460e-9bbc-a13ed45386f7"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "f_sincronizar",
                "implHandler": [
                    "f_sinc.agregar_todas();",
                    "f_sinc.sincronizar(this);"
                ]
            },
            "name": "f_sincronizar",
            "designerId": "e7d5d692-9ca9-45d4-93f5-13e57dd611a4"
        }
    ]
}